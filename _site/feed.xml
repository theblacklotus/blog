<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tech blog for The Black Lotus</title>
    <description>Write ups for tech used in our demos</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 20 Aug 2019 21:19:48 +0200</pubDate>
    <lastBuildDate>Tue, 20 Aug 2019 21:19:48 +0200</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>The Tech Behind Eon: Tooling!</title>
        <description>&lt;p&gt;Eon represents four years of work and during this we made several iterations to
various tools and pipelines. Iâ€™ll save the 3D scene packer and track loader for
separate posts, but this post will cover the other aspects of our pipeline.&lt;/p&gt;

&lt;h2 id=&quot;code-builds&quot;&gt;Code Builds&lt;/h2&gt;

&lt;p&gt;First things first: we use cross-compilation. Our build environment works on
Mac, Linux and Windows and produces both ADF floppy images and stand-alone test
programs, as well as a multitude of host tools. This section will cover some of
the details of our setup, as well as some history.&lt;/p&gt;

&lt;p&gt;We started with a stripped down, assembly-only version of our A1200 demo system
(called NewAge for some reason). We got rid of all the C code and simplified
things down to the very basics. This is how early prototyping of things like
the rubber cube started, in plain 68k assembly.&lt;/p&gt;

&lt;h1 id=&quot;welcome&quot;&gt;Welcome&lt;/h1&gt;

&lt;p&gt;Test code&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        XDEF	ScenePlayerDecompressBitplaneMasks
        @proc	ScenePlayerDecompressBitplaneMasks (a6:statep)

        IFGT	SP_PROFILE_LEVEL-0
          TBL_BEGIN_SCOPE &quot;ScenePlayerDecompressBitplaneMasks&quot;
        ENDC

        ; Fetch count of bitplane masks

        @areg	countp
        move.l	SP_COUNT_PTR(@statep),@countp

        @dreg	bitplane_masks_count
        move.b	(@countp)+,@bitplane_masks_count
        lsl.w	#8,@bitplane_masks_count
        move.b	(@countp)+,@bitplane_masks_count

        move.l	@countp,SP_COUNT_PTR(@statep)
        @kill	countp

        IFNE	SP_PRINTF_DEBUG
        Printf	&quot;Num bitplane masks: %lx&quot;,@bitplane_masks_count
        ENDC

        ; Decompress bitplane masks

        tst.w	@bitplane_masks_count
        beq.s	.skipBitplaneMasks

        @reserve d0,a0-a1
        lea	SP_3BIT_DECODERSTATE(@statep),a0
        lea	SP_BITPLANEMASKS(@statep),a1
        move.w	@bitplane_masks_count,d0
        bsr	DecodeBitStream_3Bits_Words_Decode
        @unreserve d0,a0-a1
.skipBitplaneMasks

        @kill	bitplane_masks_count

        IFGT	SP_PROFILE_LEVEL-0
          TBL_END_SCOPE
        ENDC
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test image&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/load-profile-zoomout.png&quot; alt=&quot;High-Level Profiler View&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 19 Aug 2019 00:00:00 +0200</pubDate>
        <link>http://localhost:4000/2019/08/19/test_post/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/08/19/test_post/</guid>
        
        
      </item>
    
  </channel>
</rss>
